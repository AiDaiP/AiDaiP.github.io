---
layout: post
title:  "DES从入门到放弃"
date:   2019-7-15
desc: ""
keywords: ""
categories: [Crypto]
tags: [Crypto,AES]
icon: icon-html
---

# AES从入门到放弃

* #### 基本操作

  ![1](D:\Ai\GitHub\images\AES\1.png)

* #### 轮密钥加

  每轮的输入与轮子密钥异或一次

* #### 字节替代

  通过S盒完成一个字节到另外一个字节的映射

  * ##### S盒

    ![2](D:\Ai\GitHub\images\AES\2.png)

  * ##### 逆S盒

    ![3](D:\Ai\GitHub\images\AES\3.png)

    

* #### 行移位

  4x4的矩阵内部字节之间的置换，提供算法的扩散性

  * ##### 正向行移位

    第一行保持不变，第二行循环左移8比特，第三行循环左移16比特，第四行循环左移24比特。 

    ![5](D:\Ai\GitHub\images\AES\5.png)

  * ##### 逆向行移位

    第一行保持不变，第二行循环右移8比特，第三行循环右移16比特，第四行循环右移24比特

* #### 列混淆

  利用GF($2^8$)域上算术特性的一个代替，用于提供算法的扩散性

  * ##### 正向列混淆

    ![6](D:\Ai\GitHub\images\AES\6.png)

    1. 将某个字节所对应的值乘以2，其结果就是将该值的二进制位左移一位，如果原始值的最高位为1，则需要将移位后的结果异或0b00011011
    2.  乘法对加法满足分配率
    3. 各个值在相加时使用的是模$2^8$加法

    * 例

      ![9](D:\Ai\GitHub\images\AES\9.png)

  * ##### 逆向列混淆

    ![7](D:\Ai\GitHub\images\AES\7.png)

    逆向列混淆与正向列混淆左乘矩阵互逆

    ![8](D:\Ai\GitHub\images\AES\8.png)

    

    

* #### 密钥扩展

  ![4](D:\Ai\GitHub\images\AES\4.png)

  密钥按图(a)排列，k表示种子密钥的一个字节，排列后用4个双字表示，按照图中方式求解

  * g函数

    1. w循环左移8位

    2. 对每个字节做S盒置换

    3. 与32位常量异或

       ```
       RC = [x00, 0x01, 0x02, 0x04, 0x08, 0x10, 0x20, 0x40, 0x80, 0x1B, 0x36]
       ```

       